(window.webpackJsonphmi_demo_client=window.webpackJsonphmi_demo_client||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){},102:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(9),c=n.n(o),l=(n(93),n(151)),i=n(16),u=n(150),s=n(152),m=n(79),E=n(20),p=n(21),h=n(23),g=n(22),d=n(24),f=n(134),v=n(104),S=n(55),b={SUCCESS:"ALERT_SUCCESS",ERROR:"ALERT_ERROR",CLEAR:"ALERT_CLEAR"},O={LOGIN_REQUEST:"USERS_LOGIN_REQUEST",LOGIN_SUCCESS:"USERS_LOGIN_SUCCESS",LOGIN_FAILURE:"USERS_LOGIN_FAILURE",LOGOUT:"USERS_LOGOUT",GETALL_REQUEST:"USERS_GETALL_REQUEST",GETALL_SUCCESS:"USERS_GETALL_SUCCESS",GETALL_FAILURE:"USERS_GETALL_FAILURE"},L="https://".concat("advancion-dv.fluenceenergy.com"),C="wss://".concat("advancion-dv.fluenceenergy.com","/cable"),y=n(26),R=Object(y.a)(),N=n(32),I=n(72),U=JSON.parse(localStorage.getItem("user")),_=U?{loggedIn:!0,user:U}:{};var j=Object(N.c)({authentication:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.LOGIN_REQUEST:return{loggingIn:!0,user:t.user};case O.LOGIN_SUCCESS:return{loggedIn:!0,user:t.user};case O.LOGIN_FAILURE:case O.LOGOUT:return{};default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.GETALL_REQUEST:return{loading:!0};case O.GETALL_SUCCESS:return{items:t.users};case O.GETALL_FAILURE:return{error:t.error};default:return e}},alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.SUCCESS:return{type:"alert-success",message:t.message};case b.ERROR:return{type:"alert-danger",message:t.message};case b.CLEAR:return{};default:return e}}}),k=Object(N.d)(j,Object(N.a)(I.a));function T(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.auth_token?{Authorization:e.auth_token}:{}}var A={login:function(e,t){var n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})};return fetch("".concat(L,"/api/v1/auth"),n).then(G).then(function(e){return localStorage.setItem("user",JSON.stringify(e)),e})},logout:w,getAll:function(){var e={method:"GET",headers:T()};return fetch("".concat(L,"/api/v1/users"),e).then(G)}};function w(){var e={method:"DELETE",headers:T()};return localStorage.removeItem("user"),fetch("".concat(L,"/api/v1/auth"),e).then(G)}function G(e){return e.text().then(function(t){var n=t&&JSON.parse(t);if(!e.ok){401===e.status&&(w(),window.location.reload(!0));var a=n&&n.message||e.statusText;return Promise.reject(a)}return n})}var F={login:function(e,t){return function(n){var a;n((a={username:e},{type:O.LOGIN_REQUEST,user:a})),A.login(e,t).then(function(e){n(function(e){return{type:O.LOGIN_SUCCESS,user:e}}(e)),R.push("/")},function(e){n(function(e){return{type:O.LOGIN_FAILURE,error:e}}(e)),n(x.error(e))})}},logout:function(){return A.logout(),{type:O.LOGOUT}},getAll:function(){return function(e){e({type:O.GETALL_REQUEST}),A.getAll().then(function(t){return e(function(e){return{type:O.GETALL_SUCCESS,users:e}}(t))},function(t){return e(function(e){return{type:O.GETALL_FAILURE,error:e}}(t))})}}};var x={success:function(e){return{type:b.SUCCESS,message:e}},error:function(e){return{type:b.ERROR,message:e}},clear:function(){return{type:b.CLEAR}}};var B=n(73),J=n.n(B),Q=function(e){function t(){var e,n;Object(E.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).createSocket=function(){var e=JSON.parse(localStorage.getItem("user")).auth_token,t={};t.cable=J.a.createConsumer(C,e),t.messaging=t.cable.subscriptions.create({channel:"OnlineUsersChannel"},{connected:function(){},disconnected:function(){},received:function(e){console.log(e);var t=document.getElementById("online_users_section");t.innerHTML="",e.forEach(function(e){var n=document.createElement("LI"),a=document.createTextNode(e);n.appendChild(a),t.appendChild(n)})}})},n}return Object(d.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.createSocket()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Users from Online Users Channel:"),r.a.createElement("ul",{id:"online_users_section"}))}}]),t}(r.a.Component),D=function(e){function t(){return Object(E.a)(this,t),Object(h.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(F.getAll())}},{key:"render",value:function(){var e=this.props.users;return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{container:!0,spacing:24},r.a.createElement(f.a,{item:!0,xs:12,style:{marginTop:10}},r.a.createElement(v.a,{className:"homepagepaper"},r.a.createElement(S.a,{variant:"body1",gutterBottom:!0,align:"center"},"You're logged in with React & JWT!!"))),r.a.createElement(f.a,{item:!0,xs:12},r.a.createElement("p",null,"You're logged in with React & JWT!!"),r.a.createElement("h3",null,"Users from secure api end point:"),e.loading&&r.a.createElement("em",null,"Loading users..."),e.error&&r.a.createElement("span",{className:"text-danger"},"ERROR: ",e.error),e.items&&r.a.createElement("ul",null,e.items.map(function(e,t){return r.a.createElement("li",{key:e.id},e.name+" "+e.email)})),r.a.createElement(Q,null))))}}]),t}(r.a.Component);var M=Object(i.b)(function(e){var t=e.users;return{user:e.authentication.user,users:t}})(D),P=n(61),H=function(){return r.a.createElement("div",null,"404 - ",r.a.createElement(P.a,{to:"/"},"Go home"))},W=n(54),q=n(149),Y=n(143),z=n(148),$=n(144),K=n(142),V=n(145),X=n(74),Z=n.n(X),ee=n(138),te=n(139),ne=n(140),ae=n(141),re=n(50),oe=n.n(re),ce=n(137),le=[{url:"/home",name:"Home",icon:r.a.createElement(oe.a,null)}],ie=function(){return le.map(function(e){return r.a.createElement(ce.a,{to:e.url,className:"NavLinkItem",key:e.url,activeClassName:"NavLinkItem-selected"}," ",r.a.createElement(ee.a,{component:"nav"},"  ",r.a.createElement(te.a,{button:!0},r.a.createElement(ne.a,{className:"innernavitem"},e.icon),r.a.createElement(ae.a,{primary:e.name,className:"innernavitem",color:"black"})))," ")})},ue=[{url:"/home",name:"Home",icon:r.a.createElement(oe.a,null)}],se=function(){return ue.map(function(e){return r.a.createElement(ce.a,{to:e.url,className:"NavLinkItem",key:e.url,activeClassName:"NavLinkItem-selected"}," ",r.a.createElement(ee.a,{component:"nav"},"  ",r.a.createElement(te.a,{button:!0},r.a.createElement(ne.a,{className:"innernavitem"},e.icon),r.a.createElement(ae.a,{primary:e.name,className:"innernavitem",color:"black"})))," ")})},me=function(e){function t(){var e,n;Object(E.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={componentsmenuopen:!1},n.handleClick=function(){console.log("clicked"),n.setState({componentsmenuopen:!n.state.componentsmenuopen})},n.handleClose=function(e){n.target1.contains(e.target)||n.target2.contains(e.target)||n.setState({componentsmenuopen:!1})},n}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement(ee.a,{component:"nav"})}}]),t}(r.a.Component),Ee=function(e){function t(e){var n;return Object(E.a)(this,t),(n=Object(h.a)(this,Object(g.a)(t).call(this,e))).handleChange=function(e,t,a){return n.setState({value:a})},n.onLeftIconButtonClick=function(e,t,a){console.log("hi;"),n.setState({open:!n.state.open})},n.toggleDrawer=function(e){return function(){n.setState({open:e})}},n.handleClick=function(){n.setState({componentsmenuopen:!n.state.componentsmenuopen})},n.handleClose=function(e){n.target1.contains(e.target)||n.target2.contains(e.target)||n.setState({componentsmenuopen:!1})},n.conditRenderEssential=function(){return n.props.userid?r.a.createElement(K.a,{color:"inherit",align:"right",onClick:n.props.startLogout}," Logout"):r.a.createElement(K.a,{color:"inherit",align:"right"},r.a.createElement(P.a,{to:"/login"}," Login"))},n.state={value:1,open:!1,componentsmenuopen:!1},n}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(z.a,{open:this.state.open,onClose:this.toggleDrawer(!1)},r.a.createElement("div",{tabIndex:0,role:"button"},r.a.createElement("div",{className:"sidelistwrapper"},!this.props.userid&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ie,null)," ",r.a.createElement(me,null)),this.props.userid&&r.a.createElement(r.a.Fragment,null,r.a.createElement(se,null))))),r.a.createElement("div",{className:"appbarwrapper"},r.a.createElement(Y.a,{position:"static"},r.a.createElement($.a,null,r.a.createElement(V.a,{className:"iconbuttonsyle",color:"inherit","aria-label":"Menu",onClick:this.onLeftIconButtonClick},r.a.createElement(Z.a,null)),r.a.createElement(S.a,{variant:"title",color:"inherit",className:"headertypoclass"},"HMI"),this.conditRenderEssential()))))}}]),t}(r.a.Component),pe=Object(i.b)(function(e){return{userid:localStorage.getItem("user")}},function(e,t){return{startLogout:function(){return e(F.logout())}}})(Ee),he=function(){return r.a.createElement("div",{className:"footer-container-box"},r.a.createElement(S.a,{variant:"headline",gutterBottom:!0},"Fluence"))},ge=Object(i.b)(function(e){return{isAuthenticated:!!localStorage.getItem("user")}})(function(e){var t=e.component,n=Object(W.a)(e,["component"]);return r.a.createElement(m.a,Object.assign({},n,{component:function(e){return localStorage.getItem("user")?r.a.createElement(q.a,{to:"/home"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(pe,null),r.a.createElement(t,e),r.a.createElement(he,null))}}))}),de=Object(i.b)(function(e){return{isAuthenticated:!!localStorage.getItem("user")}})(function(e){var t=e.component,n=Object(W.a)(e,["component"]);return r.a.createElement(m.a,Object.assign({},n,{component:function(e){return localStorage.getItem("user")?r.a.createElement("div",null,r.a.createElement(pe,null),r.a.createElement("div",{className:"bodyComponent"},r.a.createElement(t,e)),r.a.createElement(he,null)):r.a.createElement(q.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}),fe=n(75),ve=n(39),Se=n(146),be=n(76),Oe=n.n(be),Le=n(77),Ce=n.n(Le),ye=function(e){function t(e){var n;return Object(E.a)(this,t),(n=Object(h.a)(this,Object(g.a)(t).call(this,e))).state={username:"",password:"",submitted:!1},n.handleChange=n.handleChange.bind(Object(ve.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(ve.a)(n)),n}return Object(d.a)(t,e),Object(p.a)(t,[{key:"handleChange",value:function(e){var t=e.target,n=t.name,a=t.value;this.setState(Object(fe.a)({},n,a))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.setState({submitted:!0});var t=this.state,n=t.username,a=t.password,r=this.props.dispatch;n&&a&&r(F.login(n,a))}},{key:"render",value:function(){var e=this.state,t=e.username,n=e.password,a=e.submitted;return r.a.createElement("div",{className:"login-page-class"},r.a.createElement(v.a,{className:"loginPaper"},r.a.createElement("div",{className:"loginheaderpart"},r.a.createElement(S.a,{variant:"display3",gutterBottom:!0,className:"loginpageheader"},"Login")),r.a.createElement(S.a,{variant:"headline",component:"h3"},"Login to your account"),r.a.createElement("form",null,r.a.createElement("div",{className:"loginformgroup"},r.a.createElement(Oe.a,null),r.a.createElement(Se.a,{id:"input-username",name:"username",label:"Username",onChange:this.handleChange}),a&&!t&&r.a.createElement("div",{className:"help-block"},"Username is required")),r.a.createElement("div",{className:"loginformgroup"},r.a.createElement(Ce.a,null),r.a.createElement(Se.a,{type:"password",name:"password",id:"input-password",label:"Password",onChange:this.handleChange}),a&&!n&&r.a.createElement("div",{className:"help-block"},"Password is required"))),r.a.createElement(K.a,{variant:"outlined",color:"primary",onClick:this.handleSubmit},r.a.createElement(S.a,{variant:"button",gutterBottom:!0,className:"logintypography"},"Login"))))}}]),t}(r.a.Component);var Re=Object(i.b)(function(e){return{loggingIn:e.authentication.loggingIn}})(ye),Ne=function(){return r.a.createElement(u.a,null,r.a.createElement("div",null,r.a.createElement(s.a,null,r.a.createElement(ge,{path:"/",component:Re,exact:!0}),r.a.createElement(m.a,{path:"/login",component:Re}),r.a.createElement(de,{path:"/home",component:M}),r.a.createElement(m.a,{component:H}))))},Ie=n(78),Ue=Object(Ie.a)({palette:{type:"light",primary:{main:"#1565c0"},secondary:{main:"#673ab7"},error:{main:"#ca0909"},sand:{main:"#F4DECB"},shell:{main:"#F8EEE7"},status:{danger:"#b71c1c"},contrastThreshold:3,tonalOffset:.2}});n(100),n(101);var _e=function(){return r.a.createElement(i.a,{store:k},r.a.createElement(l.a,{theme:Ue},r.a.createElement(Ne,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(_e,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},88:function(e,t,n){e.exports=n(102)},93:function(e,t,n){}},[[88,1,2]]]);
//# sourceMappingURL=main.6bc0d53f.chunk.js.map